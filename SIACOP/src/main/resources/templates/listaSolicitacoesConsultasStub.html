<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/layoutDashboard">
<head>
<title>Solicita&ccedil;&otilde;es de Consulta</title>
</head>

<section layout:fragment="content">
	<div id="page-wrapper">
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-12">
					<div class="alert  alert-success  alert-dismissible" role="alert" th:if="${not #strings.isEmpty(mensagemSucesso)}">
						<button type="button" class="close" data-dismiss="alert">
							<span aria-hidden="true">&times;</span>
						</button>
						<span th:text="${mensagemSucesso}"></span>
					</div>
					<div class="alert  alert-danger  alert-dismissible" role="alert" th:if="${not #strings.isEmpty(mensagemErro)}">
						<button type="button" class="close" data-dismiss="alert">
							<span aria-hidden="true">&times;</span>
						</button>	
						<span th:text="${mensagemErro}"></span>
					</div>
					<div class="alert  alert-warning  alert-dismissible" role="alert" th:if="${not #strings.isEmpty(mensagemAviso)}">
						<button type="button" class="close" data-dismiss="alert">
							<span aria-hidden="true">&times;</span>
						</button>
						<span th:text="${mensagemAviso}"></span>
					</div>
					<h1 class="text-center login-title">Lista de
						Solicita&ccedil;&otilde;es de Consulta</h1>					
					<div class="form-group">
						<table id="tabelaSolicitacoes"
							class="table table-striped table-hover">
							<tr>
								<th>Nome</th>
								<th>Email</th>
								<th>Encaminhado por</th>
								<th>Motivo</th>
								<th>Melhor dia</th>
								<th>Melhor hor&aacute;rio</th>
								<th></th>
							</tr>
							<tr th:each="solicitacaoConsulta : ${solicitacoesConsulta}">
								<td th:text="${solicitacaoConsulta.usuario.nome}"></td>
								<td th:text="${solicitacaoConsulta.usuario.email}"></td>
								<td
									th:text="${solicitacaoConsulta.encaminhadoPor.encaminhamento}"></td>
								<td th:text="${solicitacaoConsulta.motivo}"></td>
								<td th:text="${solicitacaoConsulta.melhorDia.diaSemana}"></td>
								<td th:text="${solicitacaoConsulta.melhorPeriodo.periodo}"></td>
								<td><a
									th:href="@{/confirmacaoConsulta(idSolicitacao=${solicitacaoConsulta.idSolicitacao})}"><button
											class="btn btn-md btn-primary btn-block" type="submit">Confirmar</button></a></td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
</html>